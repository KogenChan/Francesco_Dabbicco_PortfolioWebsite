import{useState,useEffect}from"react";import useFetchData from"./useFetchData.min";const loadPhotosWithDimensions=async t=>await Promise.all(t.map((t=>new Promise((e=>{const a=new Image;a.onload=()=>{e({src:t.image,width:a.naturalWidth,height:a.naturalHeight,key:t.id})},a.onerror=()=>{e({src:t.image,width:800,height:600,key:t.id})},a.src=t.image})))));export default function usePhotos(t){const{data:e,loading:a,error:o}=useFetchData(t),[i,s]=useState([]),[r,n]=useState(!1);return useEffect((()=>{0!==e.length&&(n(!0),loadPhotosWithDimensions(e).then((t=>{s(t),n(!1)})))}),[e]),{photos:i,loading:a||r,error:o}}